
<!DOCTYPE html>
<html>
<head>
    <title>SPY - ICT Analysis</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        body { margin: 0; padding: 0; background-color: #131722; color: #d1d4dc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; overflow: hidden; }
        .container { display: flex; height: 100vh; width: 100vw; }
        #chart-container { flex: 1; height: 100%; position: relative; }
        #sidebar { width: 300px; background-color: #1e222d; border-left: 1px solid #363c4e; padding: 20px; overflow-y: auto; box-sizing: border-box; }
        h2 { margin-top: 0; color: #d1d4dc; font-size: 18px; }
        .summary-item { margin-bottom: 12px; padding: 10px; background-color: #2a2e39; border-radius: 4px; font-size: 14px; line-height: 1.4; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .symbol { font-size: 24px; font-weight: bold; color: #ffffff; }
        .timeframe { color: #787b86; }
        #loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px; pointer-events: none; }
    </style>
</head>
<body>
    <div class="container">
        <div id="chart-container">
            <div id="loading">Loading Chart...</div>
        </div>
        <div id="sidebar">
            <div class="header">
                <span class="symbol">SPY</span>
                <span class="timeframe">4h</span>
            </div>
            <h2>ICT Analysis</h2>
            <div class="summary-item">
                ðŸ”´ RESISTANCE (EQH) @ $517.80<br>âœ… BULL GAP below @ $508.16<br>ðŸŸ¢ SUPPORT (EQL) @ $508.43
        <div style="margin-top: 15px; border-top: 1px solid #363c4e; padding-top: 10px;">
            <h3 style="color: #4caf50; margin-bottom: 5px;">ðŸš€ BULLISH SETUP</h3>
            <div style="font-size: 13px; color: #d1d4dc;">
                <div><strong>Entry:</strong> <span style="color: #4caf50;">$510.43</span> (Limit Buy (FVG))</div>
                <div><strong>Stop Loss:</strong> <span style="color: #ef5350;">$500.83</span></div>
                <div style="margin-top: 5px;"><strong>Targets:</strong></div>
                <div>ðŸŽ¯ TP1: <span style="color: #2196f3;">$510.44</span></div>
                <div>ðŸŽ¯ TP2: <span style="color: #2196f3;">$517.80</span></div>
                <div>ðŸš€ TP3: <span style="color: #2196f3;">$539.22</span></div>
            </div>
        </div>
        
            </div>
            <div style="margin-top: 20px; color: #787b86; font-size: 12px;">
                <p><strong>Legend:</strong></p>
                <p><span style="color: #ffeb3b">â– </span> Bullish FVG (Midpoint)</p>
                <p><span style="color: #ff9800">â– </span> Bearish FVG (Midpoint)</p>
                <p><span style="color: #ef5350">--</span> Resistance (EQH)</p>
                <p><span style="color: #26a69a">--</span> Support (EQL)</p>
                <p><span style="color: #4caf50">--</span> <strong>Entry</strong></p>
                <p><span style="color: #2196f3">--</span> <strong>Take Profit (TP)</strong></p>
                <p><span style="color: #ef5350">__</span> <strong>Stop Loss (SL)</strong></p>
            </div>
        </div>
    </div>

    <script>
        try {
            const data = {"candles": [{"time": 1702468800, "open": 464.489990234375, "high": 465.30999755859375, "low": 464.239990234375, "close": 464.885009765625}, {"time": 1702483200, "open": 464.8900146484375, "high": 470.7598876953125, "low": 464.1199951171875, "close": 468.864990234375}, {"time": 1702497600, "open": 468.8599853515625, "high": 470.5400085449219, "low": 468.4800109863281, "close": 470.44000244140625}, {"time": 1702555200, "open": 472.9700012207031, "high": 473.7300109863281, "low": 471.4599914550781, "close": 471.92999267578125}, {"time": 1702569600, "open": 471.95001220703125, "high": 473.364990234375, "low": 469.25, "close": 471.4700012207031}, {"time": 1702584000, "open": 471.4700012207031, "high": 472.05999755859375, "low": 471.0899963378906, "close": 472.0}, {"time": 1702641600, "open": 469.25, "high": 470.5400085449219, "low": 468.80999755859375, "close": 470.3299865722656}, {"time": 1702656000, "open": 470.3299865722656, "high": 470.5, "low": 468.44000244140625, "close": 469.4049987792969}, {"time": 1702670400, "open": 469.4049987792969, "high": 470.70001220703125, "low": 468.94000244140625, "close": 469.3699951171875}, {"time": 1702900800, "open": 470.9800109863281, "high": 472.0899963378906, "low": 470.79998779296875, "close": 471.9800109863281}, {"time": 1702915200, "open": 471.989990234375, "high": 472.9800109863281, "low": 471.9100036621094, "close": 472.7099914550781}, {"time": 1702929600, "open": 472.7200012207031, "high": 472.7250061035156, "low": 471.95001220703125, "close": 472.010009765625}, {"time": 1702987200, "open": 472.5299987792969, "high": 474.42999267578125, "low": 472.45001220703125, "close": 474.2499084472656}, {"time": 1703001600, "open": 474.2550048828125, "high": 474.4750061035156, "low": 473.6304931640625, "close": 474.19000244140625}, {"time": 1703016000, "open": 474.19000244140625, "high": 474.9200134277344, "low": 474.0400085449219, "close": 474.82000732421875}, {"time": 1703073600, "open": 473.92999267578125, "high": 475.5899963378906, "low": 473.92498779296875, "close": 475.3017883300781}, {"time": 1703088000, "open": 475.30999755859375, "high": 475.8949890136719, "low": 469.04998779296875, "close": 469.2799987792969}, {"time": 1703102400, "open": 469.69000244140625, "high": 470.1400146484375, "low": 467.82000732421875, "close": 467.9800109863281}, {"time": 1703160000, "open": 471.3299865722656, "high": 472.44000244140625, "low": 470.54998779296875, "close": 471.510009765625}, {"time": 1703174400, "open": 471.489990234375, "high": 471.9291076660156, "low": 468.8399963378906, "close": 471.8949890136719}, {"time": 1703188800, "open": 471.9100036621094, "high": 472.9750061035156, "low": 471.6300048828125, "close": 472.69000244140625}, {"time": 1703246400, "open": 474.0, "high": 475.3800048828125, "low": 473.6199951171875, "close": 474.3900146484375}, {"time": 1703260800, "open": 474.3800048828125, "high": 474.75, "low": 471.70001220703125, "close": 473.94500732421875}, {"time": 1703275200, "open": 473.94000244140625, "high": 473.9599914550781, "low": 472.9750061035156, "close": 473.6199951171875}, {"time": 1703592000, "open": 474.07000732421875, "high": 475.19000244140625, "low": 473.989990234375, "close": 474.75}, {"time": 1703606400, "open": 474.7449951171875, "high": 476.5799865722656, "low": 474.7300109863281, "close": 476.20001220703125}, {"time": 1703620800, "open": 476.20001220703125, "high": 476.44000244140625, "low": 475.2900085449219, "close": 475.5899963378906}, {"time": 1703678400, "open": 475.44000244140625, "high": 476.1400146484375, "low": 475.0799865722656, "close": 475.4700012207031}, {"time": 1703692800, "open": 475.4700012207031, "high": 476.6600036621094, "low": 474.8900146484375, "close": 475.6449890136719}, {"time": 1703707200, "open": 475.6300048828125, "high": 476.57000732421875, "low": 475.1600036621094, "close": 476.510009765625}, {"time": 1703764800, "open": 476.8800048828125, "high": 477.5, "low": 476.5899963378906, "close": 476.85931396484375}, {"time": 1703779200, "open": 476.8800048828125, "high": 477.54998779296875, "low": 476.42999267578125, "close": 476.8999938964844}, {"time": 1703793600, "open": 476.8999938964844, "high": 477.3450012207031, "low": 476.260009765625, "close": 476.6700134277344}, {"time": 1703851200, "open": 476.489990234375, "high": 477.0299987792969, "low": 473.8999938964844, "close": 473.95001220703125}, {"time": 1703865600, "open": 473.94000244140625, "high": 475.8900146484375, "low": 473.29998779296875, "close": 475.7799987792969}, {"time": 1703880000, "open": 475.7699890136719, "high": 475.7799987792969, "low": 474.489990234375, "close": 475.3500061035156}, {"time": 1704196800, "open": 472.5400085449219, "high": 472.79998779296875, "low": 471.29998779296875, "close": 472.3299865722656}, {"time": 1704211200, "open": 472.32000732421875, "high": 473.6700134277344, "low": 470.489990234375, "close": 470.9100036621094}, {"time": 1704225600, "open": 470.9049987792969, "high": 472.6700134277344, "low": 470.6700134277344, "close": 472.6000061035156}, {"time": 1704283200, "open": 470.5, "high": 470.9599914550781, "low": 468.7099914550781, "close": 469.7099914550781}, {"time": 1704297600, "open": 469.70001220703125, "high": 471.19000244140625, "low": 468.95001220703125, "close": 469.260009765625}, {"time": 1704312000, "open": 469.2749938964844, "high": 469.7950134277344, "low": 468.1700134277344, "close": 468.7300109863281}, {"time": 1704369600, "open": 468.29998779296875, "high": 470.9599914550781, "low": 468.1099853515625, "close": 470.6499938964844}, {"time": 1704384000, "open": 470.6600036621094, "high": 470.82000732421875, "low": 468.07000732421875, "close": 468.2690124511719}, {"time": 1704398400, "open": 468.260009765625, "high": 468.67950439453125, "low": 467.04998779296875, "close": 467.2699890136719}, {"time": 1704456000, "open": 467.489990234375, "high": 470.44000244140625, "low": 467.1300048828125, "close": 469.12200927734375}, {"time": 1704470400, "open": 469.1300048828125, "high": 469.3999938964844, "low": 466.5, "close": 466.92999267578125}, {"time": 1704484800, "open": 466.92999267578125, "high": 468.2900085449219, "low": 466.42999267578125, "close": 467.9599914550781}, {"time": 1704715200, "open": 468.42999267578125, "high": 470.7449951171875, "low": 468.29998779296875, "close": 470.4100036621094}, {"time": 1704729600, "open": 470.4100036621094, "high": 474.0, "low": 470.3699951171875, "close": 473.6600036621094}, {"time": 1704744000, "open": 473.6600036621094, "high": 474.75, "low": 473.5799865722656, "close": 474.55999755859375}, {"time": 1704801600, "open": 471.8699951171875, "high": 473.3399963378906, "low": 471.3500061035156, "close": 473.2850036621094}, {"time": 1704816000, "open": 473.2900085449219, "high": 474.92999267578125, "low": 473.0799865722656, "close": 473.7799987792969}, {"time": 1704830400, "open": 473.7650146484375, "high": 474.20001220703125, "low": 472.92999267578125, "close": 473.8500061035156}, {"time": 1704888000, "open": 474.1600036621094, "high": 475.3399963378906, "low": 473.8699951171875, "close": 474.7799987792969}, {"time": 1704902400, "open": 474.7900085449219, "high": 477.4480895996094, "low": 474.4800109863281, "close": 476.2200012207031}, {"time": 1704916800, "open": 476.239990234375, "high": 476.8399963378906, "low": 475.17999267578125, "close": 476.5199890136719}, {"time": 1704974400, "open": 477.5899963378906, "high": 478.1199951171875, "low": 472.5199890136719, "close": 473.04998779296875}, {"time": 1704988800, "open": 473.04998779296875, "high": 476.97900390625, "low": 472.260009765625, "close": 475.9100036621094}, {"time": 1705003200, "open": 475.8999938964844, "high": 476.70001220703125, "low": 475.5400085449219, "close": 476.3299865722656}, {"time": 1705060800, "open": 477.8399963378906, "high": 478.6000061035156, "low": 475.2300109863281, "close": 476.5794982910156}, {"time": 1705075200, "open": 476.5799865722656, "high": 477.3399963378906, "low": 475.364990234375, "close": 476.18951416015625}, {"time": 1705089600, "open": 476.2992858886719, "high": 476.8999938964844, "low": 476.0799865722656, "close": 476.6600036621094}, {"time": 1705406400, "open": 475.5, "high": 476.60980224609375, "low": 473.4700012207031, "close": 475.88031005859375}, {"time": 1705420800, "open": 475.8999938964844, "high": 476.44000244140625, "low": 473.1098937988281, "close": 474.0398864746094}, {"time": 1705435200, "open": 474.04998779296875, "high": 475.05999755859375, "low": 473.7749938964844, "close": 474.94000244140625}, {"time": 1705492800, "open": 471.7300109863281, "high": 472.7799987792969, "low": 471.04998779296875, "close": 472.5}, {"time": 1705507200, "open": 472.4649963378906, "high": 472.7900085449219, "low": 469.8699951171875, "close": 470.87890625}, {"time": 1705521600, "open": 470.8800048828125, "high": 472.6099853515625, "low": 470.8299865722656, "close": 472.2799987792969}, {"time": 1705579200, "open": 474.010009765625, "high": 474.8800048828125, "low": 473.3900146484375, "close": 474.6866149902344}, {"time": 1705593600, "open": 474.69000244140625, "high": 476.4100036621094, "low": 472.4200134277344, "close": 476.4100036621094}, {"time": 1705608000, "open": 476.4100036621094, "high": 477.05999755859375, "low": 475.8999938964844, "close": 476.4700012207031}, {"time": 1705665600, "open": 477.6499938964844, "high": 479.2799987792969, "low": 476.94000244140625, "close": 478.8500061035156}, {"time": 1705680000, "open": 478.8450012207031, "high": 482.54998779296875, "low": 478.20001220703125, "close": 482.1400146484375}, {"time": 1705694400, "open": 482.1000061035156, "high": 482.4800109863281, "low": 481.8349914550781, "close": 482.4100036621094}, {"time": 1705924800, "open": 484.0703125, "high": 485.2200012207031, "low": 482.9599914550781, "close": 484.07000732421875}, {"time": 1705939200, "open": 484.05999755859375, "high": 484.2099914550781, "low": 482.7799987792969, "close": 484.10009765625}, {"time": 1705953600, "open": 484.1050109863281, "high": 484.19000244140625, "low": 483.3699951171875, "close": 483.51019287109375}, {"time": 1706011200, "open": 484.010009765625, "high": 484.3736877441406, "low": 482.9200134277344, "close": 483.05999755859375}, {"time": 1706025600, "open": 483.05999755859375, "high": 484.94000244140625, "low": 482.8900146484375, "close": 484.6499938964844}, {"time": 1706040000, "open": 484.6499938964844, "high": 485.1050109863281, "low": 484.3299865722656, "close": 484.8800048828125}, {"time": 1706097600, "open": 487.44000244140625, "high": 488.6099853515625, "low": 486.409912109375, "close": 487.9700012207031}, {"time": 1706112000, "open": 487.9700012207031, "high": 488.7699890136719, "low": 485.3999938964844, "close": 485.5199890136719}, {"time": 1706126400, "open": 485.510009765625, "high": 486.3999938964844, "low": 485.010009765625, "close": 485.3599853515625}, {"time": 1706184000, "open": 487.0, "high": 488.30499267578125, "low": 486.7699890136719, "close": 487.7799987792969}, {"time": 1706198400, "open": 487.7900085449219, "high": 488.1099853515625, "low": 485.489990234375, "close": 486.54998779296875}, {"time": 1706212800, "open": 486.54998779296875, "high": 488.0400085449219, "low": 486.42498779296875, "close": 488.0}, {"time": 1706270400, "open": 487.5899963378906, "high": 489.1199951171875, "low": 487.0398864746094, "close": 488.67999267578125}, {"time": 1706284800, "open": 488.6700134277344, "high": 488.8800048828125, "low": 486.5400085449219, "close": 487.4700012207031}, {"time": 1706299200, "open": 487.4750061035156, "high": 487.67999267578125, "low": 487.0249938964844, "close": 487.4599914550781}, {"time": 1706529600, "open": 487.7300109863281, "high": 488.2699890136719, "low": 487.1700134277344, "close": 487.739990234375}, {"time": 1706544000, "open": 487.739990234375, "high": 491.4150085449219, "low": 487.7300109863281, "close": 490.92999267578125}, {"time": 1706558400, "open": 490.94000244140625, "high": 491.364990234375, "low": 490.3800048828125, "close": 491.260009765625}, {"time": 1706616000, "open": 490.55999755859375, "high": 491.3595886230469, "low": 490.3399963378906, "close": 491.05999755859375}, {"time": 1706630400, "open": 491.07000732421875, "high": 491.6199951171875, "low": 490.1300048828125, "close": 491.3699951171875}, {"time": 1706644800, "open": 491.375, "high": 491.44000244140625, "low": 490.7200012207031, "close": 490.8599853515625}, {"time": 1706702400, "open": 488.6199951171875, "high": 489.081298828125, "low": 486.3900146484375, "close": 487.0299987792969}, {"time": 1706716800, "open": 487.0400085449219, "high": 489.0, "low": 483.67999267578125, "close": 484.68499755859375}, {"time": 1706731200, "open": 484.30999755859375, "high": 484.44000244140625, "low": 482.8999938964844, "close": 482.9200134277344}, {"time": 1706788800, "open": 485.25, "high": 486.2099914550781, "low": 483.79998779296875, "close": 484.57000732421875}, {"time": 1706803200, "open": 484.54998779296875, "high": 488.989990234375, "low": 484.54998779296875, "close": 488.69000244140625}, {"time": 1706817600, "open": 488.7900085449219, "high": 489.2300109863281, "low": 488.1000061035156, "close": 489.2300109863281}, {"time": 1706875200, "open": 489.6499938964844, "high": 493.07000732421875, "low": 489.29998779296875, "close": 492.9200134277344}, {"time": 1706889600, "open": 492.9200134277344, "high": 496.04998779296875, "low": 492.25, "close": 495.8949890136719}, {"time": 1706904000, "open": 495.9049987792969, "high": 495.9100036621094, "low": 494.260009765625, "close": 494.2699890136719}, {"time": 1707134400, "open": 493.25, "high": 493.5249938964844, "low": 490.2300109863281, "close": 491.32501220703125}, {"time": 1707148800, "open": 491.3299865722656, "high": 494.1700134277344, "low": 491.3299865722656, "close": 493.6700134277344}, {"time": 1707163200, "open": 493.6600036621094, "high": 493.95001220703125, "low": 492.5199890136719, "close": 492.5799865722656}, {"time": 1707220800, "open": 493.5199890136719, "high": 494.32000732421875, "low": 492.04998779296875, "close": 493.2900085449219}, {"time": 1707235200, "open": 493.30999755859375, "high": 493.57000732421875, "low": 492.1000061035156, "close": 493.1600036621094}, {"time": 1707249600, "open": 493.1600036621094, "high": 494.0400085449219, "low": 492.635009765625, "close": 493.9700012207031}, {"time": 1707307200, "open": 496.2900085449219, "high": 497.9750061035156, "low": 495.3599853515625, "close": 497.135009765625}, {"time": 1707321600, "open": 497.1400146484375, "high": 498.5299987792969, "low": 496.7900085449219, "close": 498.1499938964844}, {"time": 1707336000, "open": 498.1499938964844, "high": 498.2699890136719, "low": 497.6099853515625, "close": 498.04998779296875}, {"time": 1707393600, "open": 498.1000061035156, "high": 498.3500061035156, "low": 497.30999755859375, "close": 497.3500061035156}, {"time": 1707408000, "open": 497.3500061035156, "high": 498.5849914550781, "low": 497.260009765625, "close": 498.4150085449219}, {"time": 1707422400, "open": 498.4200134277344, "high": 498.7099914550781, "low": 497.8599853515625, "close": 498.3999938964844}, {"time": 1707480000, "open": 498.8399963378906, "high": 500.2099914550781, "low": 498.489990234375, "close": 499.75}, {"time": 1707494400, "open": 499.760009765625, "high": 501.6499938964844, "low": 499.3699951171875, "close": 501.1000061035156}, {"time": 1707508800, "open": 501.1000061035156, "high": 501.3399963378906, "low": 500.69000244140625, "close": 501.17999267578125}, {"time": 1707739200, "open": 501.1700134277344, "high": 502.95001220703125, "low": 501.0199890136719, "close": 502.8902893066406}, {"time": 1707753600, "open": 502.9649963378906, "high": 503.5, "low": 500.239990234375, "close": 500.9100036621094}, {"time": 1707768000, "open": 500.9150085449219, "high": 501.239990234375, "low": 500.54998779296875, "close": 500.95001220703125}, {"time": 1707825600, "open": 494.25, "high": 495.739990234375, "low": 493.2200012207031, "close": 495.5700988769531}, {"time": 1707840000, "open": 495.57000732421875, "high": 495.8500061035156, "low": 490.7149963378906, "close": 491.3301086425781}, {"time": 1707854400, "open": 491.29998779296875, "high": 494.2099914550781, "low": 491.2099914550781, "close": 494.1400146484375}, {"time": 1707912000, "open": 496.7900085449219, "high": 497.989990234375, "low": 495.1499938964844, "close": 496.2300109863281}, {"time": 1707926400, "open": 496.239990234375, "high": 498.2099914550781, "low": 494.3999938964844, "close": 497.9945068359375}, {"time": 1707940800, "open": 497.9906005859375, "high": 499.07000732421875, "low": 497.4700927734375, "close": 498.625}, {"time": 1707998400, "open": 499.2900085449219, "high": 500.57000732421875, "low": 498.7950134277344, "close": 499.4800109863281}, {"time": 1708012800, "open": 499.4800109863281, "high": 502.20001220703125, "low": 499.3500061035156, "close": 501.6300048828125}, {"time": 1708027200, "open": 501.6300048828125, "high": 502.04998779296875, "low": 501.1499938964844, "close": 501.95001220703125}, {"time": 1708084800, "open": 501.5400085449219, "high": 502.0450134277344, "low": 498.75, "close": 501.8900146484375}, {"time": 1708099200, "open": 501.8800048828125, "high": 502.8699951171875, "low": 499.95001220703125, "close": 500.5625915527344}, {"time": 1708113600, "open": 500.5799865722656, "high": 500.6600036621094, "low": 498.9800109863281, "close": 499.489990234375}, {"time": 1708430400, "open": 497.8599853515625, "high": 498.4100036621094, "low": 495.7449951171875, "close": 496.9200134277344}, {"time": 1708444800, "open": 496.92999267578125, "high": 496.9800109863281, "low": 494.45001220703125, "close": 496.7099914550781}, {"time": 1708459200, "open": 496.7200012207031, "high": 496.8349914550781, "low": 495.1000061035156, "close": 496.7349853515625}, {"time": 1708516800, "open": 495.5799865722656, "high": 496.30499267578125, "low": 494.9100036621094, "close": 495.7998962402344}, {"time": 1708531200, "open": 495.80999755859375, "high": 496.1400146484375, "low": 493.55999755859375, "close": 494.42999267578125}, {"time": 1708545600, "open": 494.42999267578125, "high": 497.3699951171875, "low": 494.4100036621094, "close": 497.19000244140625}, {"time": 1708603200, "open": 503.42999267578125, "high": 505.69989013671875, "low": 503.0199890136719, "close": 505.3900146484375}, {"time": 1708617600, "open": 505.5899963378906, "high": 508.489990234375, "low": 504.9100036621094, "close": 507.7301025390625}, {"time": 1708632000, "open": 507.7300109863281, "high": 508.31500244140625, "low": 507.3299865722656, "close": 507.5299987792969}, {"time": 1708689600, "open": 509.2699890136719, "high": 510.1300048828125, "low": 507.1000061035156, "close": 508.17999267578125}, {"time": 1708704000, "open": 508.19000244140625, "high": 509.05999755859375, "low": 507.6300048828125, "close": 507.9200134277344}, {"time": 1708718400, "open": 507.8450012207031, "high": 508.760009765625, "low": 507.7099914550781, "close": 507.82000732421875}, {"time": 1708948800, "open": 508.3699951171875, "high": 508.75, "low": 507.0150146484375, "close": 507.389892578125}, {"time": 1708963200, "open": 507.3900146484375, "high": 507.8999938964844, "low": 506.0199890136719, "close": 506.8800048828125}, {"time": 1708977600, "open": 506.8800048828125, "high": 506.9700012207031, "low": 505.8599853515625, "close": 505.989990234375}, {"time": 1709035200, "open": 506.5400085449219, "high": 506.6050109863281, "low": 505.5299987792969, "close": 505.67999267578125}, {"time": 1709049600, "open": 505.68499755859375, "high": 506.8699951171875, "low": 504.75, "close": 506.760009765625}, {"time": 1709064000, "open": 506.7550048828125, "high": 507.1600036621094, "low": 506.4200134277344, "close": 506.8999938964844}, {"time": 1709121600, "open": 505.3299865722656, "high": 506.8550109863281, "low": 504.9599914550781, "close": 506.510009765625}, {"time": 1709136000, "open": 506.510009765625, "high": 506.79998779296875, "low": 505.1776123046875, "close": 506.1199951171875}, {"time": 1709150400, "open": 506.1199951171875, "high": 506.2699890136719, "low": 505.3399963378906, "close": 506.19000244140625}, {"time": 1709208000, "open": 508.07000732421875, "high": 508.8454895019531, "low": 506.80999755859375, "close": 507.18499755859375}, {"time": 1709222400, "open": 507.17999267578125, "high": 508.2900085449219, "low": 505.3500061035156, "close": 508.1300964355469}, {"time": 1709236800, "open": 508.1400146484375, "high": 509.739990234375, "low": 508.0, "close": 508.0}, {"time": 1709294400, "open": 508.9800109863281, "high": 511.3800048828125, "low": 508.55999755859375, "close": 510.82000732421875}, {"time": 1709308800, "open": 510.82000732421875, "high": 513.2899780273438, "low": 510.1600036621094, "close": 512.8900146484375}, {"time": 1709323200, "open": 512.8900146484375, "high": 513.1400146484375, "low": 512.5900268554688, "close": 512.8499755859375}, {"time": 1709553600, "open": 512.030029296875, "high": 512.8800048828125, "low": 512.0, "close": 512.4400024414062}, {"time": 1709568000, "open": 512.4500122070312, "high": 514.2000122070312, "low": 512.1599731445312, "close": 513.5288696289062}, {"time": 1709582400, "open": 513.530029296875, "high": 513.6699829101562, "low": 512.1699829101562, "close": 512.25}, {"time": 1709640000, "open": 510.239990234375, "high": 510.70001220703125, "low": 507.5, "close": 508.17999267578125}, {"time": 1709654400, "open": 508.1600036621094, "high": 508.510009765625, "low": 504.9200134277344, "close": 505.010009765625}, {"time": 1709668800, "open": 505.010009765625, "high": 507.3699951171875, "low": 504.9100036621094, "close": 507.1400146484375}, {"time": 1709726400, "open": 510.54998779296875, "high": 511.3800048828125, "low": 508.4200134277344, "close": 511.3399963378906}, {"time": 1709740800, "open": 511.3500061035156, "high": 512.0689697265625, "low": 508.5199890136719, "close": 509.1700134277344}, {"time": 1709755200, "open": 509.17999267578125, "high": 510.2699890136719, "low": 508.57000732421875, "close": 509.80999755859375}, {"time": 1709812800, "open": 513.1400146484375, "high": 514.8699951171875, "low": 512.1799926757812, "close": 514.4249877929688}, {"time": 1709827200, "open": 514.4199829101562, "high": 515.8900146484375, "low": 513.77001953125, "close": 514.5999755859375}, {"time": 1709841600, "open": 514.6099853515625, "high": 515.6500244140625, "low": 514.5499877929688, "close": 514.8599853515625}, {"time": 1709899200, "open": 515.4400024414062, "high": 518.2200927734375, "low": 514.6300048828125, "close": 514.760009765625}, {"time": 1709913600, "open": 514.75, "high": 515.280029296875, "low": 511.1300048828125, "close": 511.92999267578125}, {"time": 1709928000, "open": 511.92999267578125, "high": 512.8200073242188, "low": 511.7200012207031, "close": 511.760009765625}, {"time": 1710158400, "open": 510.4800109863281, "high": 510.94000244140625, "low": 508.5, "close": 510.5456848144531}, {"time": 1710172800, "open": 510.54998779296875, "high": 511.8800048828125, "low": 510.20001220703125, "close": 511.25}, {"time": 1710244800, "open": 513.4500122070312, "high": 516.5349731445312, "low": 510.8599853515625, "close": 515.0900268554688}, {"time": 1710259200, "open": 515.094970703125, "high": 517.3800048828125, "low": 513.5499877929688, "close": 516.8099975585938}, {"time": 1710331200, "open": 517.1099853515625, "high": 517.1199951171875, "low": 515.6699829101562, "close": 516.280029296875}, {"time": 1710345600, "open": 516.3800048828125, "high": 517.2899780273438, "low": 514.489990234375, "close": 515.989990234375}, {"time": 1710417600, "open": 516.969970703125, "high": 517.125, "low": 513.3499755859375, "close": 514.7000122070312}, {"time": 1710432000, "open": 514.7100219726562, "high": 515.1900024414062, "low": 511.82000732421875, "close": 514.9400024414062}, {"time": 1710504000, "open": 510.2099914550781, "high": 511.70001220703125, "low": 508.8699951171875, "close": 509.1700134277344}, {"time": 1710518400, "open": 509.1600036621094, "high": 510.5450134277344, "low": 508.3599853515625, "close": 509.75}, {"time": 1710763200, "open": 514.0, "high": 515.47998046875, "low": 513.260009765625, "close": 514.1699829101562}, {"time": 1710777600, "open": 514.1799926757812, "high": 514.4000244140625, "low": 512.4400024414062, "close": 512.8699951171875}, {"time": 1710849600, "open": 512.1500244140625, "high": 514.114990234375, "low": 511.1199951171875, "close": 513.9901123046875}, {"time": 1710864000, "open": 514.0, "high": 515.9949951171875, "low": 514.0, "close": 515.760009765625}, {"time": 1710936000, "open": 515.77001953125, "high": 516.4400024414062, "low": 515.2100219726562, "close": 515.75}, {"time": 1710950400, "open": 515.75, "high": 520.6199951171875, "low": 515.0800170898438, "close": 520.4199829101562}, {"time": 1711022400, "open": 523.3900146484375, "high": 524.0499877929688, "low": 522.7650146484375, "close": 524.010009765625}, {"time": 1711036800, "open": 524.0, "high": 524.1099853515625, "low": 521.9099731445312, "close": 522.1010131835938}, {"time": 1711108800, "open": 522.1099853515625, "high": 522.4400024414062, "low": 521.02001953125, "close": 521.4500122070312}, {"time": 1711123200, "open": 521.4550170898438, "high": 522.60498046875, "low": 520.969970703125, "close": 521.27001953125}, {"time": 1711368000, "open": 519.7999877929688, "high": 520.8900146484375, "low": 519.6099853515625, "close": 520.5}, {"time": 1711382400, "open": 520.5, "high": 520.9500122070312, "low": 519.6699829101562, "close": 519.8099975585938}, {"time": 1711454400, "open": 521.22998046875, "high": 521.5800170898438, "low": 520.6500244140625, "close": 521.1400146484375}, {"time": 1711468800, "open": 521.135009765625, "high": 521.1400146484375, "low": 518.4000244140625, "close": 518.6699829101562}, {"time": 1711540800, "open": 521.7100219726562, "high": 521.780029296875, "low": 519.4849853515625, "close": 520.0800170898438}, {"time": 1711555200, "open": 520.0800170898438, "high": 523.2000122070312, "low": 519.72998046875, "close": 523.1699829101562}, {"time": 1711627200, "open": 523.2100219726562, "high": 523.72998046875, "low": 522.780029296875, "close": 523.469970703125}, {"time": 1711641600, "open": 523.469970703125, "high": 524.6099853515625, "low": 522.9199829101562, "close": 523.1300048828125}, {"time": 1711972800, "open": 523.8300170898438, "high": 524.3800048828125, "low": 520.969970703125, "close": 521.989990234375}, {"time": 1711987200, "open": 522.0, "high": 522.7999877929688, "low": 521.0599975585938, "close": 522.219970703125}, {"time": 1712059200, "open": 518.239990234375, "high": 518.4600219726562, "low": 516.47998046875, "close": 517.4349975585938}, {"time": 1712073600, "open": 517.4400024414062, "high": 518.97998046875, "low": 517.3049926757812, "close": 518.8499755859375}, {"time": 1712145600, "open": 517.719970703125, "high": 520.9500122070312, "low": 517.6649780273438, "close": 520.64501953125}, {"time": 1712160000, "open": 520.6400146484375, "high": 520.844970703125, "low": 517.77001953125, "close": 519.3599853515625}, {"time": 1712232000, "open": 523.52001953125, "high": 523.8673706054688, "low": 522.3599853515625, "close": 523.5101928710938}, {"time": 1712246400, "open": 523.52001953125, "high": 523.6199951171875, "low": 512.7550048828125, "close": 513.0499877929688}, {"time": 1712318400, "open": 514.4600219726562, "high": 520.010009765625, "low": 514.010009765625, "close": 519.614990234375}, {"time": 1712332800, "open": 519.6099853515625, "high": 520.4400024414062, "low": 516.969970703125, "close": 518.4000244140625}, {"time": 1712577600, "open": 519.1500244140625, "high": 520.1799926757812, "low": 517.8900146484375, "close": 518.5601196289062}, {"time": 1712592000, "open": 518.5599975585938, "high": 519.7000122070312, "low": 518.22998046875, "close": 518.6699829101562}, {"time": 1712664000, "open": 520.5, "high": 520.75, "low": 514.3499755859375, "close": 517.260009765625}, {"time": 1712678400, "open": 517.260009765625, "high": 519.4400024414062, "low": 515.7100219726562, "close": 519.2999877929688}, {"time": 1712750400, "open": 513.47998046875, "high": 516.1599731445312, "low": 512.6699829101562, "close": 513.39501953125}, {"time": 1712764800, "open": 513.4000244140625, "high": 515.1400146484375, "low": 512.0900268554688, "close": 514.1599731445312}, {"time": 1712836800, "open": 515.5, "high": 515.6099853515625, "low": 512.0800170898438, "close": 514.8399047851562}, {"time": 1712851200, "open": 514.8400268554688, "high": 519.47998046875, "low": 514.72998046875, "close": 518.0499877929688}, {"time": 1712923200, "open": 514.3699951171875, "high": 515.8150024414062, "low": 511.760009765625, "close": 511.82000732421875}, {"time": 1712937600, "open": 511.79998779296875, "high": 512.02001953125, "low": 509.0799865722656, "close": 510.82000732421875}, {"time": 1713182400, "open": 515.1300048828125, "high": 515.2999877929688, "low": 510.364990234375, "close": 510.6000061035156}, {"time": 1713196800, "open": 510.6099853515625, "high": 510.6199951171875, "low": 503.5799865722656, "close": 504.5}, {"time": 1713268800, "open": 504.94000244140625, "high": 505.3599853515625, "low": 502.4200134277344, "close": 504.4901123046875}, {"time": 1713283200, "open": 504.489990234375, "high": 506.5, "low": 502.5299987792969, "close": 503.5}, {"time": 1713355200, "open": 506.04998779296875, "high": 506.2200012207031, "low": 500.1700134277344, "close": 500.4800109863281}, {"time": 1713369600, "open": 500.4800109863281, "high": 504.0299987792969, "low": 499.1199951171875, "close": 500.510009765625}, {"time": 1713441600, "open": 501.9800109863281, "high": 504.1300048828125, "low": 499.7300109863281, "close": 502.63238525390625}, {"time": 1713456000, "open": 502.6199951171875, "high": 502.6499938964844, "low": 498.55999755859375, "close": 499.5}, {"time": 1713528000, "open": 499.44000244140625, "high": 500.4549865722656, "low": 495.19000244140625, "close": 495.19989013671875}, {"time": 1713542400, "open": 495.2200012207031, "high": 498.4599914550781, "low": 493.8599853515625, "close": 495.1000061035156}, {"time": 1713787200, "open": 497.8299865722656, "high": 498.510009765625, "low": 495.42999267578125, "close": 497.760009765625}, {"time": 1713801600, "open": 497.54998779296875, "high": 502.3800048828125, "low": 497.2900085449219, "close": 499.6300048828125}, {"time": 1713873600, "open": 501.7799987792969, "high": 505.42999267578125, "low": 501.2250061035156, "close": 505.30999755859375}, {"time": 1713888000, "open": 505.30999755859375, "high": 506.0899963378906, "low": 504.57000732421875, "close": 505.6400146484375}, {"time": 1713960000, "open": 506.55999755859375, "high": 507.3699951171875, "low": 503.44000244140625, "close": 504.0849914550781}, {"time": 1713974400, "open": 504.0899963378906, "high": 506.5450134277344, "low": 503.1300048828125, "close": 505.4700012207031}, {"time": 1714046400, "open": 499.17999267578125, "high": 501.489990234375, "low": 497.489990234375, "close": 501.3599853515625}, {"time": 1714060800, "open": 501.3800048828125, "high": 504.2699890136719, "low": 500.92999267578125, "close": 503.44000244140625}, {"time": 1714132800, "open": 506.3500061035156, "high": 509.54998779296875, "low": 505.70001220703125, "close": 508.8800048828125}, {"time": 1714147200, "open": 508.8799133300781, "high": 509.8800048828125, "low": 508.1600036621094, "close": 508.239990234375}, {"time": 1714392000, "open": 510.0, "high": 510.75, "low": 509.0050048828125, "close": 510.1400146484375}, {"time": 1714406400, "open": 510.1499938964844, "high": 510.5199890136719, "low": 507.25, "close": 510.04998779296875}, {"time": 1714478400, "open": 508.55999755859375, "high": 509.55999755859375, "low": 506.0299987792969, "close": 506.70001220703125}, {"time": 1714492800, "open": 506.70001220703125, "high": 506.70001220703125, "low": 502.0299987792969, "close": 502.0299987792969}, {"time": 1714564800, "open": 501.3800048828125, "high": 501.8299865722656, "low": 499.864990234375, "close": 501.04998779296875}, {"time": 1714579200, "open": 501.04998779296875, "high": 508.19000244140625, "low": 499.92498779296875, "close": 500.2699890136719}, {"time": 1714651200, "open": 504.1499938964844, "high": 504.67999267578125, "low": 499.54998779296875, "close": 502.30999755859375}, {"time": 1714665600, "open": 502.2900085449219, "high": 505.8900146484375, "low": 501.32000732421875, "close": 505.010009765625}, {"time": 1714737600, "open": 511.25, "high": 512.5499877929688, "low": 508.55999755859375, "close": 510.8900146484375}, {"time": 1714752000, "open": 510.9200134277344, "high": 511.989990234375, "low": 510.4270935058594, "close": 511.2900085449219}], "fvg_lines": [{"price": 508.15855407714844, "color": "#ffeb3b", "title": "BULL GAP", "lineWidth": 2, "lineStyle": 0, "axisLabelVisible": true}, {"price": 506.6199951171875, "color": "#ffeb3b", "title": "BULL GAP", "lineWidth": 2, "lineStyle": 0, "axisLabelVisible": true}, {"price": 490.74000549316406, "color": "#ffeb3b", "title": "BULL GAP", "lineWidth": 2, "lineStyle": 0, "axisLabelVisible": true}], "level_lines": [{"price": 510.44000244140625, "color": "#ef5350", "title": "EQH (Res)", "lineWidth": 1, "lineStyle": 2, "axisLabelVisible": true}, {"price": 508.42999267578125, "color": "#26a69a", "title": "EQL (Sup)", "lineWidth": 1, "lineStyle": 2, "axisLabelVisible": true}, {"price": 504.8300018310547, "color": "#26a69a", "title": "EQL (Sup)", "lineWidth": 1, "lineStyle": 2, "axisLabelVisible": true}, {"price": 517.800048828125, "color": "#ef5350", "title": "EQH (Res)", "lineWidth": 1, "lineStyle": 2, "axisLabelVisible": true}, {"price": 503.18499755859375, "color": "#ef5350", "title": "EQH (Res)", "lineWidth": 1, "lineStyle": 2, "axisLabelVisible": true}], "trade_lines": [{"price": 510.4270935058594, "color": "#4caf50", "title": "ENTRY", "style": 2}, {"price": 500.8311145019531, "color": "#ef5350", "title": "STOP", "style": 0}, {"price": 510.44000244140625, "color": "#2196f3", "title": "TP1", "style": 2}, {"price": 517.800048828125, "color": "#2196f3", "title": "TP2", "style": 2}, {"price": 539.2150305175783, "color": "#2196f3", "title": "TP3", "style": 2}], "symbol": "SPY", "timeframe": "4h"};
            
            const chartContainer = document.getElementById('chart-container');
            const chart = LightweightCharts.createChart(chartContainer, {
                layout: {
                    background: { type: 'solid', color: '#131722' },
                    textColor: '#d1d4dc',
                },
                grid: {
                    vertLines: { color: '#363c4e' },
                    horzLines: { color: '#363c4e' },
                },
                crosshair: {
                    mode: LightweightCharts.CrosshairMode.Normal,
                },
                rightPriceScale: {
                    borderColor: '#363c4e',
                },
                timeScale: {
                    borderColor: '#363c4e',
                    timeVisible: true,
                },
            });

            // Candlestick Series
            const candlestickSeries = chart.addCandlestickSeries({
                upColor: '#26a69a',
                downColor: '#ef5350',
                borderVisible: false,
                wickUpColor: '#26a69a',
                wickDownColor: '#ef5350',
            });
            candlestickSeries.setData(data.candles);

            // Add FVG Lines
            data.fvg_lines.forEach(line => {
                candlestickSeries.createPriceLine({
                    price: line.price, color: line.color, lineWidth: line.lineWidth,
                    lineStyle: line.lineStyle, axisLabelVisible: line.axisLabelVisible, title: line.title,
                });
            });

            // Add Level Lines (EQH/EQL)
            data.level_lines.forEach(line => {
                candlestickSeries.createPriceLine({
                    price: line.price, color: line.color, lineWidth: line.lineWidth,
                    lineStyle: line.lineStyle, axisLabelVisible: line.axisLabelVisible, title: line.title,
                });
            });

            // Add Trade Plan Lines
            if (data.trade_lines) {
                data.trade_lines.forEach(line => {
                    candlestickSeries.createPriceLine({
                        price: line.price, color: line.color, lineWidth: 2,
                        lineStyle: line.style, axisLabelVisible: true, title: line.title,
                    });
                });
            }

            // Adjust Visible Range (Compact View - Last ~3 months / 150 candles)
            const totalCandles = data.candles.length;
            const zoomCandles = 150; // Approx 3 trading months (4h timeframe)
            
            if (totalCandles > zoomCandles) {
                chart.timeScale().setVisibleLogicalRange({
                    from: totalCandles - zoomCandles,
                    to: totalCandles - 1
                });
            } else {
                chart.timeScale().fitContent();
            }

            // Responsive Resize
            window.addEventListener('resize', () => {
                chart.applyOptions({ 
                    width: chartContainer.clientWidth, 
                    height: chartContainer.clientHeight 
                });
            });
            
            // Remove loading text
            document.getElementById('loading').style.display = 'none';
            console.log("Chart loaded successfully");
            
        } catch (e) {
            console.error("Error loading chart:", e);
            document.getElementById('loading').innerText = "Error: " + e.message;
        }
    </script>
</body>
</html>
        