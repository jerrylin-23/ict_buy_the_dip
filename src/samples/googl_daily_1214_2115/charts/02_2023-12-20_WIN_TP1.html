<!DOCTYPE html>
<html>
<head>
    <title>GOOGL 2023-12-20 - TP1</title>
    <style>
        body { 
            background: #0a0a0a; 
            color: #d1d4dc; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0; 
            padding: 20px;
        }
        .header {
            text-align: center;
            padding: 20px;
            border-bottom: 2px solid #4caf50;
            margin-bottom: 20px;
        }
        .header h1 {
            color: #4caf50;
            margin: 0 0 10px 0;
            font-size: 28px;
        }
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            font-size: 16px;
        }
        .stat { padding: 5px 15px; background: #1a1a2e; border-radius: 5px; }
        .panel {
            margin-bottom: 30px;
            border: 1px solid #363c4e;
            border-radius: 8px;
            overflow: hidden;
        }
        .panel-header {
            background: #1a1a2e;
            padding: 10px 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .panel iframe {
            width: 100%;
            height: 500px;
            border: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>âœ… WIN</h1>
        <div class="stats">
            <div class="stat">ðŸ“… 2023-12-20</div>
            <div class="stat">ðŸ’° Entry: $138.19</div>
            <div class="stat">ðŸŽ¯ Exit: $140.95</div>
            <div class="stat" style="color: #4caf50">P&L: +2.00%</div>
        </div>
    </div>
    
    <div class="panel">
        <div class="panel-header">ðŸ“Š SETUP (Before Entry)</div>
        <iframe srcdoc="
        <!DOCTYPE html>
        <html>
        <head>
            <title>GOOGL ICT Analysis</title>
            <script src=&quot;https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js&quot;></script>
            <style>
                body { background: #0a0a0a; color: #d1d4dc; font-family: -apple-system, sans-serif; margin: 0; display: flex; height: 100vh; }
                #chart-container { flex: 1; position: relative; }
                #sidebar { width: 280px; background: #1a1a2e; padding: 20px; border-left: 1px solid #363c4e; overflow-y: auto; box-shadow: -2px 0 10px rgba(0,0,0,0.3); }
                h2 { color: #2196f3; margin-top: 0; font-size: 20px; }
                h3 { color: #a0a0a0; font-size: 14px; margin-top: 20px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #363c4e; padding-bottom: 5px; }
                .stat-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; }
                .bullish { color: #4caf50; }
                .bearish { color: #ef5350; }
                .legend { position: absolute; top: 12px; left: 12px; z-index: 10; font-size: 24px; font-weight: bold; color: rgba(255, 255, 255, 0.7); }
            </style>
        </head>
        <body>
            <div id=&quot;chart-container&quot;>
                <div class=&quot;legend&quot;>GOOGL 4H</div>
            </div>
            
            <div id=&quot;sidebar&quot;>
                <h2>ðŸ“Š Analysis Summary</h2>
                <div style=&quot;font-size: 13px; line-height: 1.6;&quot;>
                    âœ… BULL GAP below @ $137.59<br>ðŸŸ¢ SUPPORT (Swing) @ $129.68
        <div style=&quot;margin-top: 15px; border-top: 1px solid #363c4e; padding-top: 10px;&quot;>
            <h3 style=&quot;color: #4caf50; margin-bottom: 5px;&quot;>ðŸš€ BULLISH SETUP</h3>
            <div style=&quot;font-size: 13px; color: #d1d4dc;&quot;>
                <div><strong>Entry:</strong> <span style=&quot;color: #4caf50;&quot;>$138.19</span> (Limit Buy (FVG))</div>
                <div><strong>Stop Loss:</strong> <span style=&quot;color: #ef5350;&quot;>$135.62</span></div>
                <div style=&quot;margin-top: 5px;&quot;><strong>Targets:</strong></div>
                <div>ðŸŽ¯ TP1: <span style=&quot;color: #2196f3;&quot;>$140.95</span></div>
                <div>ðŸŽ¯ TP2: <span style=&quot;color: #2196f3;&quot;>$143.33</span></div>
                <div>ðŸš€ TP3: <span style=&quot;color: #2196f3;&quot;>$145.90</span></div>
            </div>
        </div>
        
                </div>
                
                <h3>Key Levels Found</h3>
                <div class=&quot;stat-item&quot;>
                    <span>Fair Value Gaps:</span>
                    <span>3</span>
                </div>
                <div class=&quot;stat-item&quot;>
                    <span>EQH/EQL Zones:</span>
                    <span>0</span>
                </div>
                
            </div>

            <script>
                try {
                    const data = {&quot;candles&quot;: [{&quot;time&quot;: 1702468800, &quot;open&quot;: 133.3800048828125, &quot;high&quot;: 133.5, &quot;low&quot;: 132.1999969482422, &quot;close&quot;: 132.3800048828125}, {&quot;time&quot;: 1702483200, &quot;open&quot;: 132.38999938964844, &quot;high&quot;: 133.31500244140625, &quot;low&quot;: 131.57000732421875, &quot;close&quot;: 132.57000732421875}, {&quot;time&quot;: 1702497600, &quot;open&quot;: 132.5749969482422, &quot;high&quot;: 132.58999633789062, &quot;low&quot;: 131.97000122070312, &quot;close&quot;: 132.55999755859375}, {&quot;time&quot;: 1702555200, &quot;open&quot;: 132.83999633789062, &quot;high&quot;: 133.72000122070312, &quot;low&quot;: 130.1999969482422, &quot;close&quot;: 130.76499938964844}, {&quot;time&quot;: 1702569600, &quot;open&quot;: 130.77000427246094, &quot;high&quot;: 131.80999755859375, &quot;low&quot;: 129.68499755859375, &quot;close&quot;: 131.40499877929688}, {&quot;time&quot;: 1702584000, &quot;open&quot;: 131.41000366210938, &quot;high&quot;: 132.0, &quot;low&quot;: 131.24000549316406, &quot;close&quot;: 131.97999572753906}, {&quot;time&quot;: 1702641600, &quot;open&quot;: 131.9499969482422, &quot;high&quot;: 133.50999450683594, &quot;low&quot;: 131.42999267578125, &quot;close&quot;: 132.02999877929688}, {&quot;time&quot;: 1702656000, &quot;open&quot;: 132.0399932861328, &quot;high&quot;: 132.60000610351562, &quot;low&quot;: 131.30999755859375, &quot;close&quot;: 132.56500244140625}, {&quot;time&quot;: 1702670400, &quot;open&quot;: 132.55999755859375, &quot;high&quot;: 132.63999938964844, &quot;low&quot;: 132.22000122070312, &quot;close&quot;: 132.50999450683594}, {&quot;time&quot;: 1702900800, &quot;open&quot;: 132.6300048828125, &quot;high&quot;: 136.09500122070312, &quot;low&quot;: 132.42999267578125, &quot;close&quot;: 135.30499267578125}, {&quot;time&quot;: 1702915200, &quot;open&quot;: 135.2949981689453, &quot;high&quot;: 137.14779663085938, &quot;low&quot;: 135.2949981689453, &quot;close&quot;: 136.39999389648438}, {&quot;time&quot;: 1702929600, &quot;open&quot;: 136.41000366210938, &quot;high&quot;: 136.4600067138672, &quot;low&quot;: 135.69000244140625, &quot;close&quot;: 135.80999755859375}, {&quot;time&quot;: 1702987200, &quot;open&quot;: 136.83999633789062, &quot;high&quot;: 137.47000122070312, &quot;low&quot;: 136.1300048828125, &quot;close&quot;: 136.4499969482422}, {&quot;time&quot;: 1703001600, &quot;open&quot;: 136.4600067138672, &quot;high&quot;: 137.24000549316406, &quot;low&quot;: 136.0800018310547, &quot;close&quot;: 136.6199951171875}, {&quot;time&quot;: 1703016000, &quot;open&quot;: 136.61000061035156, &quot;high&quot;: 136.99000549316406, &quot;low&quot;: 136.32000732421875, &quot;close&quot;: 136.66000366210938}, {&quot;time&quot;: 1703073600, &quot;open&quot;: 138.92599487304688, &quot;high&quot;: 141.69500732421875, &quot;low&quot;: 138.85000610351562, &quot;close&quot;: 140.8751983642578}, {&quot;time&quot;: 1703088000, &quot;open&quot;: 140.89999389648438, &quot;high&quot;: 140.99000549316406, &quot;low&quot;: 138.19000244140625, &quot;close&quot;: 138.22000122070312}, {&quot;time&quot;: 1703102400, &quot;open&quot;: 138.22000122070312, &quot;high&quot;: 138.9199981689453, &quot;low&quot;: 138.06500244140625, &quot;close&quot;: 138.33999633789062}], &quot;fvg_lines&quot;: [{&quot;price&quot;: 138.04500579833984, &quot;color&quot;: &quot;#ffeb3b&quot;, &quot;title&quot;: &quot;BULL GAP&quot;, &quot;start_time&quot;: 1703016000, &quot;end_time&quot;: 1703102400}, {&quot;price&quot;: 137.59000396728516, &quot;color&quot;: &quot;#ffeb3b&quot;, &quot;title&quot;: &quot;BULL GAP&quot;, &quot;start_time&quot;: 1703073600, &quot;end_time&quot;: 1703102400}], &quot;level_lines&quot;: [{&quot;price&quot;: 138.9199981689453, &quot;color&quot;: &quot;#ef5350&quot;, &quot;title&quot;: &quot;Recent High (Res)&quot;, &quot;lineWidth&quot;: 1, &quot;lineStyle&quot;: 2, &quot;axisLabelVisible&quot;: true}, {&quot;price&quot;: 129.68499755859375, &quot;color&quot;: &quot;#26a69a&quot;, &quot;title&quot;: &quot;Swing Low (Sup)&quot;, &quot;lineWidth&quot;: 1, &quot;lineStyle&quot;: 2, &quot;axisLabelVisible&quot;: true}], &quot;trade_lines&quot;: [{&quot;price&quot;: 138.19000244140625, &quot;color&quot;: &quot;#4caf50&quot;, &quot;title&quot;: &quot;ENTRY&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 135.62010543823243, &quot;color&quot;: &quot;#ef5350&quot;, &quot;title&quot;: &quot;STOP&quot;, &quot;style&quot;: 0}, {&quot;price&quot;: 140.95380249023438, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP1&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 143.3297964477539, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP2&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 145.8996934509277, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP3&quot;, &quot;style&quot;: 2}], &quot;earnings_vwap&quot;: [], &quot;symbol&quot;: &quot;GOOGL&quot;, &quot;width&quot;: 800, &quot;height&quot;: 600};
                    
                    if (!data.candles || data.candles.length === 0) {
                        document.getElementById('chart-container').innerHTML = '<div style=&quot;color:white;text-align:center;padding:20px;&quot;>No candle data available</div>';
                        throw new Error(&quot;No data&quot;);
                    }

                    const chartContainer = document.getElementById('chart-container');
                    const chart = LightweightCharts.createChart(chartContainer, {
                        layout: { background: { type: 'solid', color: '#0a0a0a' }, textColor: '#d1d4dc' },
                        grid: { vertLines: { color: '#1f2937' }, horzLines: { color: '#1f2937' } },
                        rightPriceScale: { borderColor: '#363c4e' },
                        timeScale: { borderColor: '#363c4e', timeVisible: true },
                        crosshair: { mode: LightweightCharts.CrosshairMode.Normal },
                    });
                    
                    // Candle Series
                    const candlestickSeries = chart.addCandlestickSeries({
                        upColor: '#26a69a', downColor: '#ef5350', borderVisible: false, wickUpColor: '#26a69a', wickDownColor: '#ef5350'
                    });
                    candlestickSeries.setData(data.candles);

                    // Markers (Text for Lines)
                    const markers = [];
                    
                    // FVG Areas
                    if (data.fvg_lines) {
                        data.fvg_lines.forEach(line => {
                            const fvgSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: 2,
                                lineStyle: LightweightCharts.LineStyle.Solid,
                                priceLineVisible: false,
                                lastValueVisible: true,
                                title: line.title,
                                crosshairMarkerVisible: true
                            });
                            
                            const lineData = [];
                            data.candles.forEach(c => {
                                if (c.time >= line.start_time) {
                                    lineData.push({ time: c.time, value: line.price });
                                }
                            });
                            if (lineData.length > 0) fvgSeries.setData(lineData);
                        });
                    }
                    
                    // Set Markers
                    candlestickSeries.setMarkers(markers);

                    // Key Levels
                    if (data.level_lines) {
                        data.level_lines.forEach(line => {
                            const levelSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: line.lineWidth || 1,
                                lineStyle: line.lineStyle || LightweightCharts.LineStyle.Dashed,
                                priceLineVisible: true,
                                lastValueVisible: true,
                                title: line.title
                            });
                             
                            const lineData = data.candles.map(c => ({ time: c.time, value: line.price }));
                            levelSeries.setData(lineData);
                        });
                    }
                    
                    // Trade Plan Lines
                    if (data.trade_lines) {
                        data.trade_lines.forEach(line => {
                            const tradeSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: 2,
                                lineStyle: line.style === 2 ? LightweightCharts.LineStyle.Dashed : LightweightCharts.LineStyle.Solid,
                                priceLineVisible: true,
                                lastValueVisible: true,
                                title: line.title
                            });
                            
                            const recentCandles = data.candles.slice(-100);
                            const lineData = recentCandles.map(c => ({ time: c.time, value: line.price }));
                            tradeSeries.setData(lineData);
                        });
                    }

                    // Earnings VWAP
                    if (data.earnings_vwap && data.earnings_vwap.length > 0) {
                        const vwapSeries = chart.addLineSeries({
                            color: '#b39ddb',
                            lineWidth: 2,
                            lineStyle: LightweightCharts.LineStyle.Solid,
                            title: 'Earnings VWAP',
                            priceLineVisible: false
                        });
                        vwapSeries.setData(data.earnings_vwap);
                    }
                    
                    // Set visible range safely
                    const lastTime = data.candles[data.candles.length - 1].time;
                    const startTime = data.candles[Math.max(0, data.candles.length - 100)].time;
                    chart.timeScale().setVisibleRange({ from: startTime, to: lastTime });
                    
                    // Resizing
                    window.addEventListener('resize', () => {
                        chart.resize(chartContainer.clientWidth, chartContainer.clientHeight);
                    });
                    
                } catch (e) {
                    console.error(&quot;Chart Error:&quot;, e);
                    document.body.innerHTML += '<div style=&quot;position:absolute;top:10px;left:10px;color:red;background:rgba(0,0,0,0.8);padding:10px;&quot;>JS Error: ' + e.message + '</div>';
                }
            </script>
        </body>
        </html>
        "></iframe>
    </div>
    
    <div class="panel">
        <div class="panel-header">ðŸ“ˆ OUTCOME (+30 days)</div>
        <iframe srcdoc="
        <!DOCTYPE html>
        <html>
        <head>
            <title>GOOGL ICT Analysis</title>
            <script src=&quot;https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js&quot;></script>
            <style>
                body { background: #0a0a0a; color: #d1d4dc; font-family: -apple-system, sans-serif; margin: 0; display: flex; height: 100vh; }
                #chart-container { flex: 1; position: relative; }
                #sidebar { width: 280px; background: #1a1a2e; padding: 20px; border-left: 1px solid #363c4e; overflow-y: auto; box-shadow: -2px 0 10px rgba(0,0,0,0.3); }
                h2 { color: #2196f3; margin-top: 0; font-size: 20px; }
                h3 { color: #a0a0a0; font-size: 14px; margin-top: 20px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #363c4e; padding-bottom: 5px; }
                .stat-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; }
                .bullish { color: #4caf50; }
                .bearish { color: #ef5350; }
                .legend { position: absolute; top: 12px; left: 12px; z-index: 10; font-size: 24px; font-weight: bold; color: rgba(255, 255, 255, 0.7); }
            </style>
        </head>
        <body>
            <div id=&quot;chart-container&quot;>
                <div class=&quot;legend&quot;>GOOGL 4H</div>
            </div>
            
            <div id=&quot;sidebar&quot;>
                <h2>ðŸ“Š Analysis Summary</h2>
                <div style=&quot;font-size: 13px; line-height: 1.6;&quot;>
                    âœ… BULL GAP below @ $144.44<br>ðŸŸ¢ SUPPORT (EQL) @ $135.59
        <div style=&quot;margin-top: 15px; border-top: 1px solid #363c4e; padding-top: 10px;&quot;>
            <h3 style=&quot;color: #4caf50; margin-bottom: 5px;&quot;>ðŸš€ BULLISH SETUP</h3>
            <div style=&quot;font-size: 13px; color: #d1d4dc;&quot;>
                <div><strong>Entry:</strong> <span style=&quot;color: #4caf50;&quot;>$145.15</span> (Limit Buy (FVG))</div>
                <div><strong>Stop Loss:</strong> <span style=&quot;color: #ef5350;&quot;>$142.30</span></div>
                <div style=&quot;margin-top: 5px;&quot;><strong>Targets:</strong></div>
                <div>ðŸŽ¯ TP1: <span style=&quot;color: #2196f3;&quot;>$148.05</span></div>
                <div>ðŸŽ¯ TP2: <span style=&quot;color: #2196f3;&quot;>$150.84</span></div>
                <div>ðŸš€ TP3: <span style=&quot;color: #2196f3;&quot;>$153.69</span></div>
            </div>
        </div>
        
                </div>
                
                <h3>Key Levels Found</h3>
                <div class=&quot;stat-item&quot;>
                    <span>Fair Value Gaps:</span>
                    <span>13</span>
                </div>
                <div class=&quot;stat-item&quot;>
                    <span>EQH/EQL Zones:</span>
                    <span>3</span>
                </div>
                
            </div>

            <script>
                try {
                    const data = {&quot;candles&quot;: [{&quot;time&quot;: 1702468800, &quot;open&quot;: 133.3800048828125, &quot;high&quot;: 133.5, &quot;low&quot;: 132.1999969482422, &quot;close&quot;: 132.3800048828125}, {&quot;time&quot;: 1702483200, &quot;open&quot;: 132.38999938964844, &quot;high&quot;: 133.31500244140625, &quot;low&quot;: 131.57000732421875, &quot;close&quot;: 132.57000732421875}, {&quot;time&quot;: 1702497600, &quot;open&quot;: 132.5749969482422, &quot;high&quot;: 132.58999633789062, &quot;low&quot;: 131.97000122070312, &quot;close&quot;: 132.55999755859375}, {&quot;time&quot;: 1702555200, &quot;open&quot;: 132.83999633789062, &quot;high&quot;: 133.72000122070312, &quot;low&quot;: 130.1999969482422, &quot;close&quot;: 130.76499938964844}, {&quot;time&quot;: 1702569600, &quot;open&quot;: 130.77000427246094, &quot;high&quot;: 131.80999755859375, &quot;low&quot;: 129.68499755859375, &quot;close&quot;: 131.40499877929688}, {&quot;time&quot;: 1702584000, &quot;open&quot;: 131.41000366210938, &quot;high&quot;: 132.0, &quot;low&quot;: 131.24000549316406, &quot;close&quot;: 131.97999572753906}, {&quot;time&quot;: 1702641600, &quot;open&quot;: 131.9499969482422, &quot;high&quot;: 133.50999450683594, &quot;low&quot;: 131.42999267578125, &quot;close&quot;: 132.02999877929688}, {&quot;time&quot;: 1702656000, &quot;open&quot;: 132.0399932861328, &quot;high&quot;: 132.60000610351562, &quot;low&quot;: 131.30999755859375, &quot;close&quot;: 132.56500244140625}, {&quot;time&quot;: 1702670400, &quot;open&quot;: 132.55999755859375, &quot;high&quot;: 132.63999938964844, &quot;low&quot;: 132.22000122070312, &quot;close&quot;: 132.50999450683594}, {&quot;time&quot;: 1702900800, &quot;open&quot;: 132.6300048828125, &quot;high&quot;: 136.09500122070312, &quot;low&quot;: 132.42999267578125, &quot;close&quot;: 135.30499267578125}, {&quot;time&quot;: 1702915200, &quot;open&quot;: 135.2949981689453, &quot;high&quot;: 137.14779663085938, &quot;low&quot;: 135.2949981689453, &quot;close&quot;: 136.39999389648438}, {&quot;time&quot;: 1702929600, &quot;open&quot;: 136.41000366210938, &quot;high&quot;: 136.4600067138672, &quot;low&quot;: 135.69000244140625, &quot;close&quot;: 135.80999755859375}, {&quot;time&quot;: 1702987200, &quot;open&quot;: 136.83999633789062, &quot;high&quot;: 137.47000122070312, &quot;low&quot;: 136.1300048828125, &quot;close&quot;: 136.4499969482422}, {&quot;time&quot;: 1703001600, &quot;open&quot;: 136.4600067138672, &quot;high&quot;: 137.24000549316406, &quot;low&quot;: 136.0800018310547, &quot;close&quot;: 136.6199951171875}, {&quot;time&quot;: 1703016000, &quot;open&quot;: 136.61000061035156, &quot;high&quot;: 136.99000549316406, &quot;low&quot;: 136.32000732421875, &quot;close&quot;: 136.66000366210938}, {&quot;time&quot;: 1703073600, &quot;open&quot;: 138.92599487304688, &quot;high&quot;: 141.69500732421875, &quot;low&quot;: 138.85000610351562, &quot;close&quot;: 140.8751983642578}, {&quot;time&quot;: 1703088000, &quot;open&quot;: 140.89999389648438, &quot;high&quot;: 140.99000549316406, &quot;low&quot;: 138.19000244140625, &quot;close&quot;: 138.22000122070312}, {&quot;time&quot;: 1703102400, &quot;open&quot;: 138.22000122070312, &quot;high&quot;: 138.9199981689453, &quot;low&quot;: 138.06500244140625, &quot;close&quot;: 138.33999633789062}, {&quot;time&quot;: 1703160000, &quot;open&quot;: 140.11000061035156, &quot;high&quot;: 140.60000610351562, &quot;low&quot;: 139.17999267578125, &quot;close&quot;: 140.27499389648438}, {&quot;time&quot;: 1703174400, &quot;open&quot;: 140.27499389648438, &quot;high&quot;: 140.5, &quot;low&quot;: 139.57000732421875, &quot;close&quot;: 140.16000366210938}, {&quot;time&quot;: 1703188800, &quot;open&quot;: 140.16000366210938, &quot;high&quot;: 140.68499755859375, &quot;low&quot;: 140.0850067138672, &quot;close&quot;: 140.4199981689453}, {&quot;time&quot;: 1703246400, &quot;open&quot;: 140.77000427246094, &quot;high&quot;: 141.99000549316406, &quot;low&quot;: 140.7100067138672, &quot;close&quot;: 141.10000610351562}, {&quot;time&quot;: 1703260800, &quot;open&quot;: 141.11000061035156, &quot;high&quot;: 141.58999633789062, &quot;low&quot;: 140.72000122070312, &quot;close&quot;: 141.47999572753906}, {&quot;time&quot;: 1703275200, &quot;open&quot;: 141.47000122070312, &quot;high&quot;: 141.63999938964844, &quot;low&quot;: 141.2100067138672, &quot;close&quot;: 141.49000549316406}, {&quot;time&quot;: 1703592000, &quot;open&quot;: 141.58999633789062, &quot;high&quot;: 142.67999267578125, &quot;low&quot;: 141.19000244140625, &quot;close&quot;: 141.43499755859375}, {&quot;time&quot;: 1703606400, &quot;open&quot;: 141.44000244140625, &quot;high&quot;: 141.6999969482422, &quot;low&quot;: 141.21099853515625, &quot;close&quot;: 141.52999877929688}, {&quot;time&quot;: 1703620800, &quot;open&quot;: 141.52999877929688, &quot;high&quot;: 141.66000366210938, &quot;low&quot;: 141.38999938964844, &quot;close&quot;: 141.5500030517578}, {&quot;time&quot;: 1703678400, &quot;open&quot;: 141.58999633789062, &quot;high&quot;: 142.0800018310547, &quot;low&quot;: 139.97000122070312, &quot;close&quot;: 140.25999450683594}, {&quot;time&quot;: 1703692800, &quot;open&quot;: 140.2550048828125, &quot;high&quot;: 140.5749969482422, &quot;low&quot;: 139.88600158691406, &quot;close&quot;: 140.1750030517578}, {&quot;time&quot;: 1703707200, &quot;open&quot;: 140.1750030517578, &quot;high&quot;: 140.41000366210938, &quot;low&quot;: 140.0399932861328, &quot;close&quot;: 140.41000366210938}, {&quot;time&quot;: 1703764800, &quot;open&quot;: 140.77999877929688, &quot;high&quot;: 141.13999938964844, &quot;low&quot;: 139.75, &quot;close&quot;: 140.43499755859375}, {&quot;time&quot;: 1703779200, &quot;open&quot;: 140.44000244140625, &quot;high&quot;: 140.64500427246094, &quot;low&quot;: 140.08999633789062, &quot;close&quot;: 140.2050018310547}, {&quot;time&quot;: 1703793600, &quot;open&quot;: 140.2050018310547, &quot;high&quot;: 140.33999633789062, &quot;low&quot;: 140.02000427246094, &quot;close&quot;: 140.24000549316406}, {&quot;time&quot;: 1703851200, &quot;open&quot;: 139.6300048828125, &quot;high&quot;: 140.36000061035156, &quot;low&quot;: 138.7899932861328, &quot;close&quot;: 138.92999267578125}, {&quot;time&quot;: 1703865600, &quot;open&quot;: 138.9250030517578, &quot;high&quot;: 139.9600067138672, &quot;low&quot;: 138.77999877929688, &quot;close&quot;: 139.89500427246094}, {&quot;time&quot;: 1703880000, &quot;open&quot;: 139.89999389648438, &quot;high&quot;: 139.90499877929688, &quot;low&quot;: 139.38999938964844, &quot;close&quot;: 139.7100067138672}, {&quot;time&quot;: 1704196800, &quot;open&quot;: 138.5500030517578, &quot;high&quot;: 139.4499969482422, &quot;low&quot;: 136.47999572753906, &quot;close&quot;: 137.49009704589844}, {&quot;time&quot;: 1704211200, &quot;open&quot;: 137.50999450683594, &quot;high&quot;: 138.1999969482422, &quot;low&quot;: 137.0800018310547, &quot;close&quot;: 137.58999633789062}, {&quot;time&quot;: 1704225600, &quot;open&quot;: 137.59500122070312, &quot;high&quot;: 138.27999877929688, &quot;low&quot;: 137.57000732421875, &quot;close&quot;: 138.19000244140625}, {&quot;time&quot;: 1704283200, &quot;open&quot;: 137.25, &quot;high&quot;: 138.8699951171875, &quot;low&quot;: 137.14999389648438, &quot;close&quot;: 138.66000366210938}, {&quot;time&quot;: 1704297600, &quot;open&quot;: 138.64999389648438, &quot;high&quot;: 139.6300048828125, &quot;low&quot;: 138.5500946044922, &quot;close&quot;: 139.33999633789062}, {&quot;time&quot;: 1704312000, &quot;open&quot;: 139.35000610351562, &quot;high&quot;: 139.38999938964844, &quot;low&quot;: 138.61000061035156, &quot;close&quot;: 138.9199981689453}, {&quot;time&quot;: 1704369600, &quot;open&quot;: 138.4199981689453, &quot;high&quot;: 139.16000366210938, &quot;low&quot;: 138.01010131835938, &quot;close&quot;: 138.69000244140625}, {&quot;time&quot;: 1704384000, &quot;open&quot;: 138.67999267578125, &quot;high&quot;: 138.86000061035156, &quot;low&quot;: 136.72000122070312, &quot;close&quot;: 136.99000549316406}, {&quot;time&quot;: 1704398400, &quot;open&quot;: 136.9949951171875, &quot;high&quot;: 137.2100067138672, &quot;low&quot;: 136.35000610351562, &quot;close&quot;: 136.38999938964844}, {&quot;time&quot;: 1704456000, &quot;open&quot;: 136.7449951171875, &quot;high&quot;: 137.1558074951172, &quot;low&quot;: 135.80999755859375, &quot;close&quot;: 135.9149932861328}, {&quot;time&quot;: 1704470400, &quot;open&quot;: 135.9149932861328, &quot;high&quot;: 136.11000061035156, &quot;low&quot;: 135.14999389648438, &quot;close&quot;: 135.30999755859375}, {&quot;time&quot;: 1704484800, &quot;open&quot;: 135.3000030517578, &quot;high&quot;: 135.80999755859375, &quot;low&quot;: 135.14999389648438, &quot;close&quot;: 135.72999572753906}, {&quot;time&quot;: 1704715200, &quot;open&quot;: 136.2899932861328, &quot;high&quot;: 137.5800018310547, &quot;low&quot;: 136.25999450683594, &quot;close&quot;: 137.38999938964844}, {&quot;time&quot;: 1704729600, &quot;open&quot;: 137.38999938964844, &quot;high&quot;: 138.94679260253906, &quot;low&quot;: 137.37249755859375, &quot;close&quot;: 138.68760681152344}, {&quot;time&quot;: 1704744000, &quot;open&quot;: 138.67999267578125, &quot;high&quot;: 139.00999450683594, &quot;low&quot;: 138.52999877929688, &quot;close&quot;: 138.83999633789062}, {&quot;time&quot;: 1704801600, &quot;open&quot;: 138.5, &quot;high&quot;: 140.625, &quot;low&quot;: 138.14999389648438, &quot;close&quot;: 140.41000366210938}, {&quot;time&quot;: 1704816000, &quot;open&quot;: 140.40499877929688, &quot;high&quot;: 141.48500061035156, &quot;low&quot;: 140.30999755859375, &quot;close&quot;: 140.77499389648438}, {&quot;time&quot;: 1704830400, &quot;open&quot;: 140.77000427246094, &quot;high&quot;: 141.02999877929688, &quot;low&quot;: 140.41000366210938, &quot;close&quot;: 140.92999267578125}, {&quot;time&quot;: 1704888000, &quot;open&quot;: 141.0, &quot;high&quot;: 142.47999572753906, &quot;low&quot;: 140.91000366210938, &quot;close&quot;: 141.6750030517578}, {&quot;time&quot;: 1704902400, &quot;open&quot;: 141.68499755859375, &quot;high&quot;: 143.0, &quot;low&quot;: 141.39999389648438, &quot;close&quot;: 142.18499755859375}, {&quot;time&quot;: 1704916800, &quot;open&quot;: 142.18499755859375, &quot;high&quot;: 142.3699951171875, &quot;low&quot;: 141.80239868164062, &quot;close&quot;: 142.25999450683594}, {&quot;time&quot;: 1704974400, &quot;open&quot;: 143.49000549316406, &quot;high&quot;: 145.22000122070312, &quot;low&quot;: 141.37100219726562, &quot;close&quot;: 141.4949951171875}, {&quot;time&quot;: 1704988800, &quot;open&quot;: 141.4949951171875, &quot;high&quot;: 142.32899475097656, &quot;low&quot;: 140.63499450683594, &quot;close&quot;: 141.89500427246094}, {&quot;time&quot;: 1705003200, &quot;open&quot;: 141.92999267578125, &quot;high&quot;: 142.16000366210938, &quot;low&quot;: 141.64999389648438, &quot;close&quot;: 142.0800018310547}, {&quot;time&quot;: 1705060800, &quot;open&quot;: 142.6699981689453, &quot;high&quot;: 143.1782989501953, &quot;low&quot;: 141.82000732421875, &quot;close&quot;: 142.9300994873047}, {&quot;time&quot;: 1705075200, &quot;open&quot;: 142.94940185546875, &quot;high&quot;: 143.17999267578125, &quot;low&quot;: 142.49000549316406, &quot;close&quot;: 142.76010131835938}, {&quot;time&quot;: 1705089600, &quot;open&quot;: 142.77000427246094, &quot;high&quot;: 142.83999633789062, &quot;low&quot;: 142.5399932861328, &quot;close&quot;: 142.6300048828125}, {&quot;time&quot;: 1705406400, &quot;open&quot;: 142.0, &quot;high&quot;: 144.35000610351562, &quot;low&quot;: 141.8000030517578, &quot;close&quot;: 142.75}, {&quot;time&quot;: 1705420800, &quot;open&quot;: 142.74249267578125, &quot;high&quot;: 142.94000244140625, &quot;low&quot;: 141.4499969482422, &quot;close&quot;: 141.99000549316406}, {&quot;time&quot;: 1705435200, &quot;open&quot;: 142.0, &quot;high&quot;: 142.5, &quot;low&quot;: 141.96400451660156, &quot;close&quot;: 142.47000122070312}, {&quot;time&quot;: 1705492800, &quot;open&quot;: 141.34500122070312, &quot;high&quot;: 141.83999633789062, &quot;low&quot;: 138.89999389648438, &quot;close&quot;: 140.91000366210938}, {&quot;time&quot;: 1705507200, &quot;open&quot;: 140.91000366210938, &quot;high&quot;: 141.1699981689453, &quot;low&quot;: 140.1501007080078, &quot;close&quot;: 141.03500366210938}, {&quot;time&quot;: 1705521600, &quot;open&quot;: 141.03500366210938, &quot;high&quot;: 141.6199951171875, &quot;low&quot;: 141.01499938964844, &quot;close&quot;: 141.47000122070312}, {&quot;time&quot;: 1705579200, &quot;open&quot;: 142.0500030517578, &quot;high&quot;: 143.9600067138672, &quot;low&quot;: 141.99000549316406, &quot;close&quot;: 143.94500732421875}, {&quot;time&quot;: 1705593600, &quot;open&quot;: 143.9550018310547, &quot;high&quot;: 144.2100067138672, &quot;low&quot;: 142.59500122070312, &quot;close&quot;: 143.6699981689453}, {&quot;time&quot;: 1705608000, &quot;open&quot;: 143.6699981689453, &quot;high&quot;: 143.73989868164062, &quot;low&quot;: 143.3350067138672, &quot;close&quot;: 143.47000122070312}, {&quot;time&quot;: 1705665600, &quot;open&quot;: 144.74000549316406, &quot;high&quot;: 146.37640380859375, &quot;low&quot;: 144.3800048828125, &quot;close&quot;: 146.0749969482422}, {&quot;time&quot;: 1705680000, &quot;open&quot;: 146.0749969482422, &quot;high&quot;: 146.2949981689453, &quot;low&quot;: 145.14999389648438, &quot;close&quot;: 146.10000610351562}, {&quot;time&quot;: 1705694400, &quot;open&quot;: 146.10000610351562, &quot;high&quot;: 146.4499969482422, &quot;low&quot;: 146.01499938964844, &quot;close&quot;: 146.38999938964844}], &quot;fvg_lines&quot;: [{&quot;price&quot;: 144.4449462890625, &quot;color&quot;: &quot;#ffeb3b&quot;, &quot;title&quot;: &quot;BULL GAP&quot;, &quot;start_time&quot;: 1705665600, &quot;end_time&quot;: 1705694400}, {&quot;price&quot;: 142.1074981689453, &quot;color&quot;: &quot;#ffeb3b&quot;, &quot;title&quot;: &quot;BULL GAP&quot;, &quot;start_time&quot;: 1705579200, &quot;end_time&quot;: 1705694400}], &quot;level_lines&quot;: [{&quot;price&quot;: 146.4499969482422, &quot;color&quot;: &quot;#ef5350&quot;, &quot;title&quot;: &quot;Recent High (Res)&quot;, &quot;lineWidth&quot;: 1, &quot;lineStyle&quot;: 2, &quot;axisLabelVisible&quot;: true}, {&quot;price&quot;: 135.59332784016928, &quot;color&quot;: &quot;#26a69a&quot;, &quot;title&quot;: &quot;EQL (Sup)&quot;, &quot;lineWidth&quot;: 1, &quot;lineStyle&quot;: 2, &quot;axisLabelVisible&quot;: true}], &quot;trade_lines&quot;: [{&quot;price&quot;: 145.14999389648438, &quot;color&quot;: &quot;#4caf50&quot;, &quot;title&quot;: &quot;ENTRY&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 142.3024996948242, &quot;color&quot;: &quot;#ef5350&quot;, &quot;title&quot;: &quot;STOP&quot;, &quot;style&quot;: 0}, {&quot;price&quot;: 148.05299377441406, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP1&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 150.8449822998047, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP2&quot;, &quot;style&quot;: 2}, {&quot;price&quot;: 153.69247650146488, &quot;color&quot;: &quot;#2196f3&quot;, &quot;title&quot;: &quot;TP3&quot;, &quot;style&quot;: 2}], &quot;earnings_vwap&quot;: [], &quot;symbol&quot;: &quot;GOOGL&quot;, &quot;width&quot;: 800, &quot;height&quot;: 600};
                    
                    if (!data.candles || data.candles.length === 0) {
                        document.getElementById('chart-container').innerHTML = '<div style=&quot;color:white;text-align:center;padding:20px;&quot;>No candle data available</div>';
                        throw new Error(&quot;No data&quot;);
                    }

                    const chartContainer = document.getElementById('chart-container');
                    const chart = LightweightCharts.createChart(chartContainer, {
                        layout: { background: { type: 'solid', color: '#0a0a0a' }, textColor: '#d1d4dc' },
                        grid: { vertLines: { color: '#1f2937' }, horzLines: { color: '#1f2937' } },
                        rightPriceScale: { borderColor: '#363c4e' },
                        timeScale: { borderColor: '#363c4e', timeVisible: true },
                        crosshair: { mode: LightweightCharts.CrosshairMode.Normal },
                    });
                    
                    // Candle Series
                    const candlestickSeries = chart.addCandlestickSeries({
                        upColor: '#26a69a', downColor: '#ef5350', borderVisible: false, wickUpColor: '#26a69a', wickDownColor: '#ef5350'
                    });
                    candlestickSeries.setData(data.candles);

                    // Markers (Text for Lines)
                    const markers = [];
                    
                    // FVG Areas
                    if (data.fvg_lines) {
                        data.fvg_lines.forEach(line => {
                            const fvgSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: 2,
                                lineStyle: LightweightCharts.LineStyle.Solid,
                                priceLineVisible: false,
                                lastValueVisible: true,
                                title: line.title,
                                crosshairMarkerVisible: true
                            });
                            
                            const lineData = [];
                            data.candles.forEach(c => {
                                if (c.time >= line.start_time) {
                                    lineData.push({ time: c.time, value: line.price });
                                }
                            });
                            if (lineData.length > 0) fvgSeries.setData(lineData);
                        });
                    }
                    
                    // Set Markers
                    candlestickSeries.setMarkers(markers);

                    // Key Levels
                    if (data.level_lines) {
                        data.level_lines.forEach(line => {
                            const levelSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: line.lineWidth || 1,
                                lineStyle: line.lineStyle || LightweightCharts.LineStyle.Dashed,
                                priceLineVisible: true,
                                lastValueVisible: true,
                                title: line.title
                            });
                             
                            const lineData = data.candles.map(c => ({ time: c.time, value: line.price }));
                            levelSeries.setData(lineData);
                        });
                    }
                    
                    // Trade Plan Lines
                    if (data.trade_lines) {
                        data.trade_lines.forEach(line => {
                            const tradeSeries = chart.addLineSeries({
                                color: line.color,
                                lineWidth: 2,
                                lineStyle: line.style === 2 ? LightweightCharts.LineStyle.Dashed : LightweightCharts.LineStyle.Solid,
                                priceLineVisible: true,
                                lastValueVisible: true,
                                title: line.title
                            });
                            
                            const recentCandles = data.candles.slice(-100);
                            const lineData = recentCandles.map(c => ({ time: c.time, value: line.price }));
                            tradeSeries.setData(lineData);
                        });
                    }

                    // Earnings VWAP
                    if (data.earnings_vwap && data.earnings_vwap.length > 0) {
                        const vwapSeries = chart.addLineSeries({
                            color: '#b39ddb',
                            lineWidth: 2,
                            lineStyle: LightweightCharts.LineStyle.Solid,
                            title: 'Earnings VWAP',
                            priceLineVisible: false
                        });
                        vwapSeries.setData(data.earnings_vwap);
                    }
                    
                    // Set visible range safely
                    const lastTime = data.candles[data.candles.length - 1].time;
                    const startTime = data.candles[Math.max(0, data.candles.length - 100)].time;
                    chart.timeScale().setVisibleRange({ from: startTime, to: lastTime });
                    
                    // Resizing
                    window.addEventListener('resize', () => {
                        chart.resize(chartContainer.clientWidth, chartContainer.clientHeight);
                    });
                    
                } catch (e) {
                    console.error(&quot;Chart Error:&quot;, e);
                    document.body.innerHTML += '<div style=&quot;position:absolute;top:10px;left:10px;color:red;background:rgba(0,0,0,0.8);padding:10px;&quot;>JS Error: ' + e.message + '</div>';
                }
            </script>
        </body>
        </html>
        "></iframe>
    </div>
</body>
</html>